(window["webpackJsonpowl-compare-stats"]=window["webpackJsonpowl-compare-stats"]||[]).push([[0],{14:function(e,t,a){e.exports=a(20)},19:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var r=a(11),l=a(12),n=a(3),c=a(4),o=a(6),s=a(5),i=a(7),m=a(0),u=a.n(m),d=a(10),p=a.n(d),h=(a(19),a(1)),v=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return u.a.createElement("select",{onChange:this.props.updateScatter,value:this.props.value},u.a.createElement("option",{value:"eliminations_avg_per_10m"},"Avg Elimination per 10m"),u.a.createElement("option",{value:"deaths_avg_per_10m"},"Avg Death per 10m"),u.a.createElement("option",{value:"hero_damage_avg_per_10m"},"Avg Damage per 10m"),u.a.createElement("option",{value:"healing_avg_per_10m"},"Avg Healing per 10m"),u.a.createElement("option",{value:"ultimates_earned_avg_per_10m"},"Avg Ultimates Earned per 10m"),u.a.createElement("option",{value:"final_blows_avg_per_10m"},"Avg Final Blows per 10m"),u.a.createElement("option",{value:"time_played_total"},"Total Time Played (hr)"))}}]),t}(u.a.Component),y=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).updateScatterX=function(e){a.setState({xValue:e.target.value}),a.setState({xTitle:e.target.options[e.target.selectedIndex].text}),a.forceUpdate()},a.updateScatterY=function(e){a.setState({yValue:e.target.value}),a.setState({yTitle:e.target.options[e.target.selectedIndex].text}),a.forceUpdate()},a.state={xValue:a.props.xValue,yValue:a.props.yValue,xTitle:a.props.xTitle,yTitle:a.props.yTitle,convertedTime:!1},a}return Object(i.a)(t,e),Object(c.a)(t,[{key:"drawChart",value:function(){var e=this,t=this.props.playerData,a=this.props.teamData;if(t=Object.values(t),!this.state.convertedTime){for(var r=0,l=Object.keys(this.props.playerData);r<l.length;r++){var n=l[r];this.props.playerData[n].time_played_total/=3600}this.setState({convertedTime:!0})}h.f("#scatter").attr("id","owl-scatter").attr("width",1150).attr("height",650);var c=h.f("#".concat(this.props.id));c.selectAll("*").remove();var o=+c.attr("width"),s=+c.attr("height"),i=function(t){return t[e.state.xValue]},m=this.state.xTitle,u=function(t){return t[e.state.yValue]},d=this.state.yTitle,p=20,v=150,y=o-v-40,E=s-p-88,f=h.e().domain(h.c(t,i)).range([0,y]).nice(),g=h.e().domain(h.c(t,u)).range([E,0]).nice(),b=c.append("g").attr("transform","translate(".concat(v,",").concat(p,")")),_=h.a(f).tickFormat(h.d("~s")).tickSize(-E).tickPadding(15),x=h.b(g).tickFormat(h.d("~s")).tickSize(-y).tickPadding(10),P=b.append("g").call(x);P.selectAll(".domain").remove(),P.append("text").attr("class","axis-label").attr("y",-93).attr("x",-E/2).attr("fill","black").attr("transform","rotate(-90)").attr("text-anchor","middle").text(d);var w=b.append("g").call(_).attr("transform","translate(0,".concat(E,")"));w.select(".domain").remove(),w.append("text").attr("class","axis-label").attr("y",75).attr("x",y/2).attr("fill","black").text(m);b.selectAll("circle").data(t).enter().append("circle").attr("cy",(function(e){return g(u(e))})).attr("cx",(function(e){return f(i(e))})).attr("r",5).attr("fill",(function(e){return"".concat(a[+e.teamId].teamColors.primary.color)})).append("svg:title").text((function(t){return"".concat(t.name,"\nX: ").concat(t[e.state.xValue].toFixed(2),"\nY: ").concat(t[e.state.yValue].toFixed(2),"\n          ")}))}},{key:"render",value:function(){return Object.keys(this.props.playerData).length>0&&Object.keys(this.props.teamData).length>0&&this.drawChart(),u.a.createElement("div",{className:"scatter-header"},u.a.createElement("h1",null,this.props.title),u.a.createElement("div",{className:"axisSelects"},u.a.createElement(v,{updateScatter:this.updateScatterX,value:this.state.xValue}),u.a.createElement("p",null,"vs"),u.a.createElement(v,{updateScatter:this.updateScatterY,value:this.state.yValue})))}}]),t}(u.a.Component),E=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.player,r=this.props.teamData;if(a){var l,n;(e=r[a.teamId])&&(l=u.a.createElement("img",{className:"player-team icon",src:e.teamLogo,alt:"".concat(e.name," Logo"),height:"50",width:"48"}),n=function(e,t){e=e.replace("#","");var a=parseInt(3===e.length?e.slice(0,1).repeat(2):e.slice(0,2),16),r=parseInt(3===e.length?e.slice(1,2).repeat(2):e.slice(2,4),16),l=parseInt(3===e.length?e.slice(2,3).repeat(2):e.slice(4,6),16);return t?"rgba("+a+", "+r+", "+l+", "+t+")":"rgb("+a+", "+r+", "+l+")"}(e.teamColors.primary.color,.5));var c=u.a.createElement("span",{className:"player-card"},u.a.createElement("div",{className:"player-avatar",style:{backgroundColor:n}},u.a.createElement("button",{className:"close",onClick:function(){return t.props.removePlayer(a.playerId,t.props.shownPlayers)}},"\xd7"),u.a.createElement("img",{src:a.headshot,alt:"".concat(a.name," Headshot"),height:"350",width:"350"}),a.number?u.a.createElement("span",{className:"player-number icon"},a.number):null,l,u.a.createElement("img",{className:"player-role icon",src:"./images/".concat(a.role,".png"),alt:"".concat(a.role," Role"),height:"40",width:"48"})),u.a.createElement("table",null,u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,a.name))),u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",null,a.eliminations_avg_per_10m.toFixed(2))),u.a.createElement("tr",null,u.a.createElement("td",null,a.deaths_avg_per_10m.toFixed(2))),u.a.createElement("tr",null,u.a.createElement("td",null,a.hero_damage_avg_per_10m.toLocaleString(void 0,{maximumFractionDigits:0}))),u.a.createElement("tr",null,u.a.createElement("td",null,a.healing_avg_per_10m.toLocaleString(void 0,{maximumFractionDigits:0}))),u.a.createElement("tr",null,u.a.createElement("td",null,a.ultimates_earned_avg_per_10m.toFixed(2))),u.a.createElement("tr",null,u.a.createElement("td",null,a.final_blows_avg_per_10m.toFixed(2))),u.a.createElement("tr",null,u.a.createElement("td",null,function(e){var t=Math.floor(e/3600),a=Math.round((e-3600*t)/60);return t>0?"".concat(t,"h ").concat(a,"m"):"".concat(a,"m")}(a.time_played_total))))))}return u.a.createElement("div",{className:"column"},c)}}]),t}(u.a.Component),f=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).setPlayerId=function(e){a.setState({pId:Number(e.target.value)})},a.setRole=function(e){a.setState({role:e.target.value})},a.setTeamId=function(e){a.setState({teamId:Number(e.target.value)})},a.state={pId:null,role:"allRoles",teamId:0},a}return Object(i.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.teamData,a=Object.keys(t);a.sort((function(e,a){return t[e].name>t[a].name?1:t[a].name>t[e].name?-1:0}));var r=this.props.playerData,l=Object.keys(r);return"allRoles"!==this.state.role&&(l=l.filter((function(t){return r[t].role===e.state.role}))),0!==this.state.teamId&&(l=l.filter((function(t){return r[t].teamId===e.state.teamId}))),l.sort((function(e,t){return r[e].name.toLowerCase()>r[t].name.toLowerCase()?1:r[t].name>r[e].name?-1:0})),u.a.createElement("div",{className:"column add-player-container"},u.a.createElement("div",null),u.a.createElement("div",{className:"column add-player-forms"},u.a.createElement("h2",null,"Select Player"),u.a.createElement("div",{className:"player-filters"},u.a.createElement("select",{className:"team-filter",onChange:this.setTeamId},u.a.createElement("option",{value:"0"},"All Teams"),a.map((function(e){return u.a.createElement("option",{key:e,value:e},t[e].name)}))),u.a.createElement("select",{onChange:this.setRole},u.a.createElement("option",{value:"allRoles"},"All Roles"),u.a.createElement("option",{value:"offense"},"Offense"),u.a.createElement("option",{value:"tank"},"Tank"),u.a.createElement("option",{value:"support"},"Support"))),u.a.createElement("div",null,u.a.createElement("select",{className:"player-select",onChange:this.setPlayerId,size:l.length<10?l.length:10},l.map((function(t){return u.a.createElement("option",{key:t,value:t,onDoubleClick:e.state.pId?function(){return e.props.addPlayer(e.state.pId)}:null},r[t].name)}))),u.a.createElement("div",null,u.a.createElement("button",{onClick:this.state.pId?function(){return e.props.addPlayer(e.state.pId)}:null},"Add"),u.a.createElement("button",{onClick:this.props.exitAddPlayer},"Exit")))))}}]),t}(u.a.Component),g=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).removePlayer=function(e,t){var r=[],l=!0,n=!1,c=void 0;try{for(var o,s=t[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var i=o.value;e!==i&&r.push(i)}}catch(m){n=!0,c=m}finally{try{l||null==s.return||s.return()}finally{if(n)throw c}}a.setState({shownPlayers:r})},a.clearPlayers=function(){a.setState({shownPlayers:[]})},a.addPlayer=function(e){a.setState({shownPlayers:[].concat(Object(l.a)(a.state.shownPlayers),[e])}),a.setState({addPlayer:!1})},a.exitAddPlayer=function(){a.setState({addPlayer:!1})},a.state={playerData:{},teamData:{},shownPlayers:[],addPlayer:!0,scatterX:"eliminations_avg_per_10m",scatterY:"deaths_avg_per_10m"},a}return Object(i.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all([fetch("https://api.overwatchleague.com/v2/teams/").then((function(e){return e.json()})),fetch("https://api.overwatchleague.com/stats/players").then((function(e){return e.json()}))]).then((function(t){var a=Object(r.a)(t,2),l=a[0],n=a[1],c={},o=!0,s=!1,i=void 0;try{for(var m,u=n.data[Symbol.iterator]();!(o=(m=u.next()).done);o=!0){var d=m.value;c[d.playerId]=d}}catch(j){s=!0,i=j}finally{try{o||null==u.return||u.return()}finally{if(s)throw i}}e.setState({playerData:c});var p={},h=!0,v=!1,y=void 0;try{for(var E,f=l.data[Symbol.iterator]();!(h=(E=f.next()).done);h=!0){var g=E.value;p[g.id]={name:g.name,teamLogo:g.logo.main.svg,teamColors:g.colors};var b=e.state.playerData,_=!0,x=!1,P=void 0;try{for(var w,S=g.players[Symbol.iterator]();!(_=(w=S.next()).done);_=!0){var O=w.value;b[O.id]&&(b[O.id].number=O.number,b[O.id].headshot=O.headshot,b[O.id].meatName=O.fullName)}}catch(j){x=!0,P=j}finally{try{_||null==S.return||S.return()}finally{if(x)throw P}}e.setState({playerData:b})}}catch(j){v=!0,y=j}finally{try{h||null==f.return||f.return()}finally{if(v)throw y}}e.setState({teamData:p})}))}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"main-container"},u.a.createElement("div",{id:"compare-container"},u.a.createElement("h1",null,"Overwatch League Player Stats Selector"),u.a.createElement("button",{className:"add-button main-button",onClick:function(){return e.setState({addPlayer:!0})}},"Add Player"),u.a.createElement("button",{className:"clear-button main-button",onClick:this.clearPlayers},"Clear"),u.a.createElement("div",{className:"stats-container"},u.a.createElement("div",{className:"column stat-labels"},u.a.createElement("div",null),u.a.createElement("table",null,u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Stats Per 10 Min"))),u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",null,"Avgerage Eliminations")),u.a.createElement("tr",null,u.a.createElement("td",null,"Avgerage Deaths")),u.a.createElement("tr",null,u.a.createElement("td",null,"Hero Damage")),u.a.createElement("tr",null,u.a.createElement("td",null,"Healing")),u.a.createElement("tr",null,u.a.createElement("td",null,"Average Ultimates Earned")),u.a.createElement("tr",null,u.a.createElement("td",null,"Final Blows")),u.a.createElement("tr",null,u.a.createElement("td",null,"Total Time Played"))))),this.state.shownPlayers.map((function(t){return u.a.createElement(E,{key:t,player:e.state.playerData[t],teamData:e.state.teamData,removePlayer:e.removePlayer,shownPlayers:e.state.shownPlayers})})),this.state.addPlayer?u.a.createElement(f,{playerData:this.state.playerData,teamData:this.state.teamData,addPlayer:this.addPlayer,exitAddPlayer:this.exitAddPlayer}):null)),u.a.createElement("hr",null),u.a.createElement("div",{id:"scatter-container"},u.a.createElement("div",{class:"scatter-items"},u.a.createElement(y,{playerData:this.state.playerData,teamData:this.state.teamData,id:"owl-scatter",title:"Overwatch League Player Stats",xValue:"eliminations_avg_per_10m",yValue:"deaths_avg_per_10m",xTitle:"Avg Eliminations per 10m",yTitle:"Avg Deaths per 10m"}),u.a.createElement("svg",{id:"scatter"}))))}}]),t}(u.a.Component);p.a.render(u.a.createElement(g,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.01d9fc70.chunk.js.map